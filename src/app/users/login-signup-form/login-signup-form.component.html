<!-- Signpost Login Form -->
<div>
  <form name="loginForm" (ngSubmit)="loginOrSignup($event)" class="login-signup-form" #loginForm="ngForm">
    <p class="login-signup-instructions"> login/signup with providers above OR here</p>
    <!-- Email Input -->
    <div class="login-signup-input-error-container">
      <mat-form-field md-no-float layout="row" class="login-input-container">
        <input matInput type="text" [(ngModel)]="userCreds.email" placeholder="email" name="email" minlength="6" [pattern]="userCreds.newAccount ? emailRegex : ''" required>
      </mat-form-field>
      <div *ngIf="displayedValidationErrors.email" class="input-errors error">
        {{ displayedValidationErrors.email }}
      </div>
    </div>

    <!-- Password Input -->
    <div class="login-signup-input-error-container">
      <mat-form-field layout="row" class="login-input-container">
        <input matInput type="password" [(ngModel)]="userCreds.password" placeholder="password" minlength="6" name="password" required>
      </mat-form-field>
      <div *ngIf="displayedValidationErrors.password" class="input-errors error">
        {{ displayedValidationErrors.password }}
      </div>
    </div>

    <!-- New User Checkbox class="sidenav-login-newaccount" -->
    <div class="checkbox-link-shared-line">
      <input type="checkbox" [(ngModel)]="userCreds.newAccount" color="primary" name="new account" class="login-signup-checkbox shared-line"> new here?
      <a *ngIf="!userCreds.newAccount" [routerLink]="['requestpasswordchange']" class="forgot-password-link">forgot password?</a>
    </div>


    <!-- Terms & Conditions Checkbox -->
    <!-- THIS WAS WORKING BUT NOW IT"S NOT WORKING SINCE I UPDATED THE FORM CONTROL TO WORK... LAME -->
    <div *ngIf="userCreds.newAccount" class="checkbox-link-shared-line">
      <input type="checkbox" [(ngModel)]="userCreds.termsCond" class="login-signup-checkbox" name="terms and conditions" [required]="userCreds.newAccount">
      I agree to the
      <a class="terms-cond-link" routerLink="/termsandconditions">terms and conditions</a>
    </div>

    <div class="buttons-container">
      <!-- Submit Form Button -->
      <button type="submit" (click)="loginOrSignup($event)" matTooltip="submit" matTooltipPosition="above" class="login-signup-button submit" [disabled]="loginForm.invalid">
        <i class="fa fa-sign-in fa-3x"></i>
      </button>

      <!-- Cancel Form Button -->
      <!-- REMOVED FOR NOW BECAUSE CANNOT REOPEN THE FORM -->
      <!-- <button type="cancel" (click)="cancel()" matTooltip="cancel" matTooltipPosition="above" class="login-signup-button cancel">
        <i class="fa fa-times fa-3x"></i>
      </button> -->
    </div>
    <div *ngIf="displayedValidationErrors.main" class="input-errors error">
      {{ displayedValidationErrors.main }}
    </div>
  </form>
</div>
